{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v1"
    },
    "exported_at": "2020-05-17T13:00:57+02:00",
    "name": "TrackMania NF \/ UF + XAseco",
    "author": "info@gamemania.org",
    "description": "TrackMania Nations Forever \/ United Forever Dedicated Server with XAseco.",
    "image": "https:\/\/github.com\/Hoerli1337\/pterodactyl-eggs\/tree\/master\/TMNF-UF",
    "startup": ".\/TrackmaniaServer \/nodaemon  \/forceip={{FORCE_IP_ADDRESS}}:{{TM_SERVER_PORT}} \/dedicated_cfg={{DEDICATED_CFG}} \/game_settings={{MATCH_SETTINGS}}",
    "config": {
        "files": "{}",
        "startup": "{\r\n    \"done\": \"...Play\",\r\n    \"userInteraction\": []\r\n}",
        "logs": "{}",
        "stop": "^C"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/sh\r\n# TRACKMANIA Installation Script\r\n#\r\n## Vars\r\nDEDICATED_URL=\"http:\/\/files2.trackmaniaforever.com\/TrackmaniaServer_2011-02-21.zip\"\r\nUSER=\"container\"\r\nWORKDIR=\"\/home\/container\"\r\nmkdir -pv ${WORKDIR}\r\ncd ${WORKDIR}\r\n## Install\r\napk update && apk add --no-cache unzip wget ca-certificates\r\nwget ${DEDICATED_URL} -qO \/tmp\/dedicated.zip\r\nunzip -quo \/tmp\/dedicated.zip -d ${WORKDIR}\r\nchmod +x -v ${WORKDIR}\/ManiaPlanetServer\r\nchown -Rv container: ${WORKDIR}\r\n## Cleanup\r\nrm -rfv *.apk *.bat *.exe *.html RemoteControlExamples UserData\/Config\/dedicated_cfg.default.txt\r\nrm -rfv \/tmp\/* \/var\/tmp\/* \/var\/cache\/apk\/*\r\n## Configuration\r\n# Make sure we use defaults everywhere.\r\n: ${TITLE:=\"stadium\"}\r\n: ${DEDICATED_CFG:=\"dedicated_cfg.txt\"}\r\n: ${MATCH_SETTINGS:=\"MatchSettings\/tracklist.txt\"}\r\n: ${SERVER_NAME:=\"Pterodactyl TM-Server by Hoerlis Egg\"}\r\n: ${TM_SERVER_PORT:=\"2350\"}\r\n: ${TM_SERVER_PORT2:=\"3450\"}\r\n: ${TM_SERVER_PORT3:=\"5000\"}\r\n## {{{ dedicated_cfg.txt\r\nif [ ! -f ${WORKDIR}\/GameData\/Config\/${DEDICATED_CFG} ]; then\r\necho \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\r\n<dedicated>\r\n<authorization_levels>\r\n<level>\r\n<name>${SUPERADMIN_NAME:-SuperAdmin}<\/name>\r\n<password>${SUPERADMIN_PWD:-SuperAdmin}<\/password>\r\n<\/level>\r\n<level>\r\n<name>${ADMIN_NAME:-Admin}<\/name>\r\n<password>${ADMIN_PWD:-Admin}<\/password>\r\n<\/level>\r\n<\/authorization_levels>\r\n<masterserver_account>\r\n<login>${MASTERSERVER_ACCOUNT:-}<\/login>\r\n<password>${MASTERSERVER_ACCOUNT_PWD:-}<\/password>\r\n<validation_key>${MASTERSERVER_KEY:-}<\/validation_key>\r\n<\/masterserver_account>\r\n<server_options>\r\n<name>${SERVER_NAME:-}<\/name>\r\n<comment>\r\n${COMMENT:-}\r\n<\/comment>\r\n<hide_server>${HIDE_SERVER:-0}<\/hide_server>\r\n<max_players>${MAX_PLAYERS:-32}<\/max_players>\r\n<password>${SERVER_PASSWORD:-}<\/password>\r\n<max_spectators>${MAX_SPECTATORS:-32}<\/max_spectators>\r\n<password_spectator>${PASSWORD_SPECTATOR:-}<\/password_spectator>\r\n<ladder_mode>${LADDER_MODE:-forced}<\/ladder_mode>\r\n<enable_p2p_upload>${P2P_UPLOAD:-True}<\/enable_p2p_upload>\r\n<enable_p2p_download>${P2P_DOWNLOAD:-True}<\/enable_p2p_download>\r\n<callvote_timeout>${CALLVOTE_TIMEOUT:-60000}<\/callvote_timeout>\r\n<callvote_ratio>${CALLVOTE_RATIO:-0.5}<\/callvote_ratio>\r\n<callvote_ratios>\r\n<voteratio command=\\\"Ban\\\" ratio=\"-1\"\/>\r\n<!-- commands can be \\\"Ban\\\", \\\"Kick\\\", \\\"RestartMap\\\", \\\"NextMap\\\", \\\"SetModeScriptSettingsAndCommands\\\"... -->\r\n<\/callvote_ratios>\r\n<allow_challenge_download>${ALLOW_MAP_DOWNLOAD:-True}<\/allow_challenge_download>\r\n<autosave_replays>${AUTOSAVE_REPLAYS:-False}<\/autosave_replays>\r\n<autosave_validation_replays>${AUTOSAVE_VALIDATION_REPLAYS:-False}<\/autosave_validation_replays>\r\n<referee_password>${REFEREE_PASSWORD:-}<\/referee_password>\r\n<referee_validation_mode>${REFEREE_VALIDATION_MODE:-0}<\/referee_validation_mode>\r\n<use_changing_validation_seed>${USE_CHANGING_VALIDATION_SEED:-False}<\/use_changing_validation_seed>\r\n<ladder_serverlimit_min>${LADDER_SERVERLIMIT_MIN:-}<\/ladder_serverlimit_min>\r\n<ladder_serverlimit_max>${LADDER_SERVERLIMIT_MAX:-}<\/ladder_serverlimit_max>\r\n<\/server_options>\r\n<system_config>\r\n<connection_uploadrate>${CONN_UPLOAD_RATE:-512000}<\/connection_uploadrate>\r\n<connection_downloadrate>${CONN_DOWNLOAD_RATE:-8192000}<\/connection_downloadrate>\r\n<p2p_cache_size>${P2P_CACHE_SIZE:-4000}<\/p2p_cache_size>\r\n<force_ip_address>${FORCE_IP_ADDRESS:-}<\/force_ip_address>\r\n<server_port>${TM_SERVER_PORT:-2350}<\/server_port>\r\n<server_p2p_port>${SERVER_P2P_PORT:-3450}<\/server_p2p_port>\r\n<client_port>${CLIENT_PORT:-0}<\/client_port>\r\n<bind_ip_address>${BIND_IP_ADDRESS:-}<\/bind_ip_address>\r\n<use_nat_upnp>${USE_NAT_UPNP:-}<\/use_nat_upnp>\r\n<xmlrpc_port>${XMLRPC_PORT:-5000}<\/xmlrpc_port>\r\n<xmlrpc_allowremote>${XMLRPC_ALLOW_REMOTE:-True}<\/xmlrpc_allowremote>\r\n<allow_spectator_relays>${ALLOW_SPECTATOR_RELAYS:-False}<\/allow_spectator_relays>\r\n<blacklist_url>${BLACKLIST_URL:-}<\/blacklist_url>\r\n<guestlist_filename>${GUESTLIST_FILENAME:-}<\/guestlist_filename>\r\n<blacklist_filename>${BLACKLIST_FILENAME:-}<\/blacklist_filename>\r\n<packmask>${TITLE:-stadium}<\/packmask>\r\n<use_proxy>${USE_PROXY:-False}<\/use_proxy>\r\n<proxy_login>${PROXY_LOGIN:-}<\/proxy_login>\r\n<proxy_password>${PROXY_PWD:-}<\/proxy_password>\r\n<\/system_config>\r\n<\/dedicated>\r\n\" > ${WORKDIR}\/GameData\/Config\/${DEDICATED_CFG}\r\nfi\r\n## config.txt }}}",
            "container": "alpine:3.11",
            "entrypoint": "ash"
        }
    },
    "variables": [
        {
            "name": "MASTERSERVER_ACCOUNT",
            "description": "TrackMania Account - https:\/\/player.trackmania.com\/",
            "env_variable": "MASTERSERVER_ACCOUNT",
            "default_value": "",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "MASTERSERVER_ACCOUNT_PWD",
            "description": "TrackMania Server Account Password - https:\/\/player.trackmania.com\/",
            "env_variable": "MASTERSERVER_ACCOUNT_PWD",
            "default_value": "",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "MASTERSERVER_KEY",
            "description": "Last three characters of the player key",
            "env_variable": "MASTERSERVER_KEY",
            "default_value": "",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "SERVER_NAME",
            "description": "Enter your server name here, which will be visible later in the game.",
            "env_variable": "SERVER_NAME",
            "default_value": "TM Server - by Hoerli's Egg",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "MAX_PLAYERS",
            "description": "Specify the maximum number of slots here. A maximum of 255 slots is possible. Note the specifications of Nadeo for ladder servers.\r\nhttps:\/\/player.trackmania.com\/main.php?view=ladder-servers",
            "env_variable": "MAX_PLAYERS",
            "default_value": "32",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|int|max:64"
        },
        {
            "name": "FORCE_IP_ADDRESS",
            "description": "Public IPv4 of the server",
            "env_variable": "FORCE_IP_ADDRESS",
            "default_value": "",
            "user_viewable": 1,
            "user_editable": 0,
            "rules": "required|ipv4"
        },
        {
            "name": "TM_SERVER_PORT",
            "description": "Trackmania Server Port",
            "env_variable": "TM_SERVER_PORT",
            "default_value": "2350",
            "user_viewable": 1,
            "user_editable": 0,
            "rules": "required|int"
        },
		{
            "name": "TM_SERVER_PORT2",
            "description": "Trackmania Server Port P2P",
            "env_variable": "TM_SERVER_PORT2",
            "default_value": "3450",
            "user_viewable": 1,
            "user_editable": 0,
            "rules": "required|int"
        },
		{
            "name": "TM_SERVER_PORT3",
            "description": "Trackmania Server Port RCP",
            "env_variable": "TM_SERVER_PORT3",
            "default_value": "5000",
            "user_viewable": 1,
            "user_editable": 0,
            "rules": "required|int"
        },
        {
            "name": "DEDICATED_CFG",
            "description": "Dedicated config file",
            "env_variable": "DEDICATED_CFG",
            "default_value": "dedicated_cfg.txt",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "MATCH_SETTINGS",
            "description": "Match settings config file",
            "env_variable": "MATCH_SETTINGS",
            "default_value": "MatchSettings\/tracklist.txt",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "SUPERADMIN_PWD",
            "description": "SuperAdmin password. Change it to make your server secure!",
            "env_variable": "SUPERADMIN_PWD",
            "default_value": "SuperAdmin",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        },
        {
            "name": "ADMIN_PWD",
            "description": "Admin password. Change it to make your server secure!",
            "env_variable": "ADMIN_PWD",
            "default_value": "Admin",
            "user_viewable": 1,
            "user_editable": 1,
            "rules": "required|string"
        }
    ]
}